{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost:8800","basePath":"/","tags":[{"name":"draft-store-endpoint","description":"Draft Store Endpoint"},{"name":"draft-controller","description":"Draft Controller"}],"paths":{"/api/v2/draft/{type}":{"get":{"tags":["draft-store-endpoint"],"summary":"Retrieve document","operationId":"retrieveDocumentUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"type","in":"path","description":"type","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}}},"post":{"tags":["draft-store-endpoint"],"summary":"Save document","operationId":"saveDocumentUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"type","in":"path","description":"type","required":true,"type":"string"},{"in":"body","name":"document","description":"document","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}}},"delete":{"tags":["draft-store-endpoint"],"summary":"Delete document","operationId":"deleteDocumentUsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"type","in":"path","description":"type","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}}}},"/drafts":{"get":{"tags":["draft-controller"],"summary":"Find all your drafts","description":"Returns an empty array when no drafts were found","operationId":"readAllUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"params","in":"query","description":"params","required":false,"items":{"type":"object","additionalProperties":{"type":"string"}}},{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/DraftList"}}}},"post":{"tags":["draft-controller"],"summary":"Create a new draft","operationId":"createUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":true,"type":"string"},{"in":"body","name":"newDraft","description":"newDraft","required":true,"schema":{"$ref":"#/definitions/CreateDraft"}}],"responses":{"200":{"description":"OK"},"201":{"description":"Draft successfully created"},"400":{"description":"Bad request","schema":{"$ref":"#/definitions/ErrorResult"}}}}},"/drafts/{id}":{"get":{"tags":["draft-controller"],"summary":"Find draft by ID","operationId":"readUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Draft"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResult"}}}},"put":{"tags":["draft-controller"],"summary":"Update existing draft","operationId":"updateUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":true,"type":"string"},{"in":"body","name":"updatedDraft","description":"updatedDraft","required":true,"schema":{"$ref":"#/definitions/UpdateDraft"}}],"responses":{"200":{"description":"OK"},"204":{"description":"Draft updated"},"400":{"description":"Bad request","schema":{"$ref":"#/definitions/ErrorResult"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResult"}}}},"delete":{"tags":["draft-controller"],"summary":"Delete draft","operationId":"deleteUsingDELETE","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"204":{"description":"Draft deleted"}}}}},"definitions":{"CreateDraft":{"type":"object","properties":{"document":{"$ref":"#/definitions/JsonNode"},"maxStaleDays":{"type":"integer","format":"int32","description":"Number of day(s) before removing a draft that hasn't been updated"},"type":{"type":"string"},"max_age":{"type":"integer","format":"int32"}}},"Draft":{"type":"object","properties":{"created":{"type":"string","format":"date-time"},"document":{"type":"string"},"id":{"type":"string"},"type":{"type":"string"},"updated":{"type":"string","format":"date-time"}}},"DraftList":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/Draft"}}}},"ErrorResult":{"type":"object","properties":{"errorCode":{"type":"string","enum":["INVALID_AUTH_TOKEN","BAD_ARGUMENT","NO_RECORD_FOUND","SERVER_ERROR","USER_DETAILS_SERVICE_ERROR"]},"errors":{"type":"array","items":{"type":"string"}}}},"JsonNode":{"type":"object"},"UpdateDraft":{"type":"object","properties":{"document":{"$ref":"#/definitions/JsonNode"},"type":{"type":"string"}}}}}
